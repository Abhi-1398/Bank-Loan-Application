<div class="add-loan">
    <h2>Add Loan</h2>
    <form class="form">
        <mat-form-field>
            <mat-label>Select Customer</mat-label>
            <mat-select [formControl]="customer">
            @for (customer of customerList; track customer.id) {
                <mat-option [value]="customer.id">{{ customer.id }} - {{ customer.name }}</mat-option>
            }
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Select Type of Loan</mat-label>
            <mat-select [formControl]="loanType">
            @for (type of loanTypes; track type) {
                <mat-option [value]="type.key">{{ type.value }}</mat-option>
            }                
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Loan Amount</mat-label>
            <input
              matInput
              placeholder="XXXX.XX"
              [formControl]="loanAmount"
              (blur)="updateErrorMessage()"
              required
            />
            <mat-error *ngIf="loanAmount.invalid">{{errorMessage()}}</mat-error>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" [formControl]="loanDate" [min]="minDate" />
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="loanDate.invalid">{{errorMessage()}}</mat-error>
        </mat-form-field>
        <div class="form-btn">
            <button mat-stroked-button>Cancel</button>
            <button mat-flat-button (click)="createLoan()">Create Loan Account</button>
        </div>
    </form>
</div>

